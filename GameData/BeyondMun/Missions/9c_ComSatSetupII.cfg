CONTRACT_TYPE:NEEDS[RemoteTech]
{
    name = BMComSatSetupII

    // Contract text
    title = [BM] Kerbin Satellite Network Part II
    description = Our second step is placing two more satellites in synchronous orbit around Kerbin. Those should be setup in about 120° degrees difference to the first one to create a triangle. Connecting each with a dish directly to ComSat I will extend our communication range completly around Kerbin. 
    synopsis = Roger and out!
	notes = TIP: Try to make your periods differ as low as possible. (<0.1 second is great)
    completedMessage = You have done it!

    // Controls for whether a contract can be declined or cancelled, default is true for both
    cancellable = true
    declinable = true

    // Target Celestial body - controls where the contract must be completed, has some automated
    // effects on numeric parameters (increasing science, etc.)
    targetBody = Kerbin

    // Contract rewards
    rewardScience = 35.0
	rewardReputation = 60.0
    rewardFunds = 80000.0
	
	// Can only be done once
	maxCompletions = 1
	maxSimultaneous = 1
	
	prestige = Trivial

	PARAMETER
	{
		name = VesselParameterGroup1
		type = VesselParameterGroup
	
		define = ComSat II
	
		PARAMETER
		{
			name = IsNotVessel
			type = IsNotVessel
			vessel = ComSat III
		}	
	
		PARAMETER
		{
			name = HasCrew1
			type = HasCrew
			maxCrew = 0
			minCrew = 0
		}
		
		PARAMETER
		{
			name = ReachState
			type = ReachState

			targetBody = Kerbin
			
			situation = PRELAUNCH
		}
		
		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			
			part = RTLongAntenna2			
		}
		
		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			
			part = mediumDishAntenna
			minCount = 3
		}
	}
	
	PARAMETER
	{
		name = VesselParameterGroup1
		type = VesselParameterGroup
	
		define = ComSat III
	
		PARAMETER
		{
			name = IsNotVessel
			type = IsNotVessel
			vessel = ComSat II
		}
	
		PARAMETER
		{
			name = HasCrew1
			type = HasCrew
			maxCrew = 0
			minCrew = 0
		}
		
		PARAMETER
		{
			name = ReachState
			type = ReachState

			targetBody = Kerbin
			
			situation = PRELAUNCH
		}
		
		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			
			part = RTLongAntenna2			
		}
		
		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			
			part = mediumDishAntenna
			minCount = 3
		}
	}	
	
	PARAMETER
	{
		name = VesselParameterGroup1
		type = VesselParameterGroup
		
		vessel = ComSat II
	
		PARAMETER
		{
			name = VesselConnectivity
			type = VesselConnectivity

			vessel = ComSat I
			hasConnectivity = true
		}   
		
		PARAMETER
		{
			name = ReachSpecificOrbit
			type = ReachSpecificOrbit

			index = 0
			
			deviationWindow = 0.5
		}
		
		PARAMETER
		{
			name = Orbit
			type = Orbit
			
			minPeriod = 6h 0m 0s
			maxPeriod = 6h 0m 1s
		}
		
		PARAMETER
		{
			name = Duration
			type = Duration

			duration = 6h 0m 0s
			
			preWaitText = Setup ComSat II into a stable orbit
			waitingText = Calibration is running...
			completionText = Working fine!
		}		
	}
	
	PARAMETER
	{
		name = VesselParameterGroup1
		type = VesselParameterGroup
		
		vessel = ComSat III
	
		PARAMETER
		{
			name = VesselConnectivity
			type = VesselConnectivity

			vessel = ComSat I
			hasConnectivity = true
		}   
		
		PARAMETER
		{
			name = ReachSpecificOrbit
			type = ReachSpecificOrbit

			index = 0
			
			deviationWindow = 0.5
		}
		
		PARAMETER
		{
			name = Orbit
			type = Orbit
			
			minPeriod = 6h 0m 0s
			maxPeriod = 6h 0m 1s
		}
		
		PARAMETER
		{
			name = Duration
			type = Duration

			duration = 6h 0m 0s
			
			preWaitText = Setup ComSat III into a stable orbit
			waitingText = Calibration is running...
			completionText = Working fine!
		}
	}	
	
	BEHAVIOUR
	{
		name = OrbitGenerator
		type = OrbitGenerator

		// Use this to generate an orbit with specific parameters
		FIXED_ORBIT
		{
			// Body for the orbit - defaulted from the contract if not supplied
			targetBody = Kerbin
			ORBIT
			{
				SMA = 3468750.0
				ECC = 0
				INC = 0
				LPE = 0
				LAN = 0
				MNA = 0
				EPH = 0
				REF = 1
			}
		}
	}
	
	REQUIREMENT 
	{
		name = CompleteContract1
		type = CompleteContract
		contractType = BMComSatSetupI
		minCount = 1		
	}	
}